<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>closet · satyam k</title>
    <meta name="description" content="A drifting canvas of things by Satyam Kashyap." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  </head>
  <body>
    <div id="ui">
      <a class="brand" href="https://closet-api-towards.netlify.app/admin/#/collections/entries" target="_blank" rel="noopener noreferrer">closet</a>
      <div class="search">
        <input id="searchInput" type="text" placeholder="search…" autocomplete="off" spellcheck="false" />
        <ul id="searchResults" class="results" aria-label="search results"></ul>
      </div>
      <div class="filters-row">
        <div class="filters">
          <div id="tagPills" class="tag-pills" aria-label="filter by tag"></div>
          <select id="sortSelect" aria-label="sort entries">
            <option value="original">original order</option>
            <option value="title">title (a→z)</option>
            <option value="type">type</option>
          </select>
        </div>
      </div>
      <div class="help">drag to explore · enter to jump</div>
      <button id="shuffleBtn" class="shuffle-btn" title="Shuffle layout">shuffle</button>
      <div id="viewSlider" class="view-slider" aria-label="view mode slider">
        <div class="track">
          <div class="fill"></div>
          <div class="thumb"></div>
        </div>
        <div class="labels">
          <span data-mode="grid">grid</span>
          <span data-mode="list">list</span>
          <span data-mode="compact">compact</span>
        </div>
      </div>
    </div>

    <div id="viewport" aria-label="canvas viewport">
      <div id="world" aria-label="canvas world"></div>
    </div>
    <div id="lightbox" aria-modal="true" role="dialog" aria-label="image viewer" hidden>
      <img id="lightboxImg" alt="expanded" />
    </div>

    <script src="script.js"></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script>
      // Ensure OAuth callbacks landing on the Netlify domain are handled
      if (window.netlifyIdentity) {
        window.netlifyIdentity.init({
          APIUrl: 'https://closet-api-towards.netlify.app/.netlify/identity'
        });
        window.netlifyIdentity.on('login', function () {
          try { window.netlifyIdentity.close(); } catch (e) {}
        });
      }
    </script>
  </body>
  </html>


